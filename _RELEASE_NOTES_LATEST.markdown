> 唯音專案目前正式接收捐款，將會用於該輸入法的年度維護更新。
> 捐款渠道：https://www.patreon.com/c/shikisuen/membership
> （微信使用者與支付寶使用者可以電郵給開發者以詢問其他可行的渠道。）
> （這些費用會用於 Apple 開發者會員年費、以及 Codex 用量等。）
> 請注意所有的獻金（包括這個獻金檔位）只會被當作餽贈，
> 且不會對在下施加任何義務與合約。感謝您的理解。
> 如果您有配樂製作或流行歌曲弦樂編曲的需求的話、或者管弦樂錄音樂譜製作需求的話，
> 也歡迎外包給唯音輸入法的開發者，這是他希望能接到的主要業務。
> 開發者目前最需要的主要業務是配樂相關的客戶資源，期待能與您合作。

#### 4.2.1 版針對 4.2.0 版更新了下述內容：

- 修正：[所有發行版] 解決了輸入法偏好設定無法在重啟輸入法之後持久生效的故障。
  - 此前 4.1.4 版本收緊了 Sandbox 例外路徑清單範圍。但開發者萬萬沒想到經過 Sandbox 處理的輸入法居然連 UserDefaults 存取都需要開 Sandbox 豁免例外才可以。
- 修正：[所有發行版] 修訂了與打字學習模組有關的一些內容：
  - 改善了與輸入建議有關的處理邏輯，提升打字時候選字的準確性和相關性。
  - 增強了與日誌資料管理機制，防止因資料損壞導致的組句異常。
  - 感謝 Evan Chiang 提供關鍵情資，使得開發者終於將這個離奇透頂的組句故障的始發版本鎖定在 4.1.3 版。
    - 這一版原本打算解決一個單元測試用例的問題，但矯枉過正、導致輸入法原廠的長詞經常被打字學習模組建議的短詞攔腰截斷。
- 行為：[所有發行版] 對浮動組字窗啟用時的內文組字區佔位符做了調整。
  - 這個佔位符是必須的，不然 InputMethodKit 會把輸入法負責攔截處理的鍵盤事件複製一份返回給「正在接收打字的軟體」、使其誤以為相關事件沒被輸入法處理掉。
  - 內文組字區佔位符現改為 ASCII 空格。
  - Discord 例外：頻道名稱偵測到第一個字元是空格時，Discord（網頁也好、客戶端也好）會強制重設輸入法狀態。
    - 開發者真的很想將與這個設計有關的 Discord 工程師拎出來打兩個耳光，真的一肚子窩火。
    - 但現階段只能用一個顯式佔位符來避免這個情況。
    - 但用 `¶` 又要被嘴（還從來不用電郵問開發者，明知道開發者沒有任何手段可以在 PTT 獲得發文認證權限，故意憋開發者不給開發者親自互動解釋的機會，總之就是講不聽，連皮樂和 Ryan 都幫忙講了就是講不聽），所以這次對 Discord 改用 `_` 為佔位符。
    - 網頁版 Discord 沒轍，沒有任何手段將此當作為可偵測特例單獨應對，所以只能繼續用空格，不然又要被嘴了。
- 體驗：[所有發行版] 修復了設定視窗中檔案路徑顯示元件的佈局問題（多發於舊版 macOS）。
- 研發：[所有發行版] 增強了內部測試機制和資料驗證，提升整體穩定性。
- 辭典：[所有發行版] 例行語彙資料更新。

<details>
<summary>已知問題（請點擊這一行文字以展開閱讀）。</summary>

1. 沙箱特性帶來的些許不便。請參見 2.3.0 版的更新日誌。引入沙箱是為了打消一些使用者們可能抱持的資安疑慮，但使用者仍可自行使用 HIPS 類工具軟體來主動監督唯音輸入法的軟體行為。
2. 近期 macOS 14.4.x 更新導致有些使用者經常遇到與 SecureEventInput 有關的濫用警告。唯音不替任何濫用 SecureEventInput 的軟體開發者們負責。受不了相關警告的話，雖然您也可以藉由輸入法偏好設定畫面的開發道場頁面來關掉相關偵測功能，但您也還可以將這類軟體檢舉給 Apple Support，因為他們對 SecureEventInput 的濫用行為禍害了系統內所有的第三方輸入法軟體的正常運作。
3. 田所選字窗不支援滾動條捲動，但理論上應該不會影響使用。
4. 如果您在使用 macOS 14 Sonoma 及之後的版本的系統的話，請勿使用唯音 3.5.3 及之前的版本，因為這些版本可能會觸發系統內的某些缺陷、導致整個系統畫面失去響應。此外，如果您有將使用者辭典目錄放在 iCloud Drive 的話，請勿使用唯音 4.0.3 及之前的版本，否則可能會在 iCloud 因為 DNS 故障陷入同步失敗的過程時出現「輸入法卡死整個系統」的情況。
5. 強烈建議您將您在用的任何終端機軟體都拽入唯音輸入法的客體管理器（且打勾），因為幾乎所有的副廠終端機軟體的開發者們在技術上都沒有任何動力去將內文組字區的體驗做得像 macOS 內建終端機那樣完美。
6. 請勿在諸如 NSMenu 以及 Spotlight 這種浮動窗內使用田所選字窗的滑鼠右鍵選單，否則可能會遇到「選字窗消失，只剩下滑鼠右鍵選單」的情況。此時需要切換到別的 App 再切換回來、才可以正常敲字。該故障目前無解。因此，唯音自 3.1.0 版開始對 Spotlight 和 Raycast 這兩個客體應用停用田所選字窗滑鼠右鍵選單。
7. 唯音輸入法本身很多與 Enter 鍵有關的組合鍵在微信等少數應用當中無法生效，因為這些客體應用在訊息窗格內輸入文字時始終會攔截 Enter 鍵的訊號處理、而無視 InputMethodKit 組字區內容的有無。如有相關需求者，可以先行用其它文字編輯軟體敲好訊息之後、藉由剪貼簿中轉、再貼入這類客體應用當中。
8. Naver Line 聊天軟體對 IMKTextInput 內文組字區的實作有問題（尤其是在使用 Dark Mode 的時候，根本看不到組字區下劃線），所以被唯音預設放在客體管理器黑名單內。副作用就是一定會出現浮動組字窗，請諒解。如果您一定想要在 Line 軟體內使用內文組字區的話，請藉由客體管理器自行取消對 Naver Line 的勾選，相關後果自負（因為一切責任都在 Naver Line 的開發團隊）。
9. 出於諸多原因，macOS 系統內建的 IMK 選字窗支援截止於 3.5.3 版、之後不再提供相關支援。一款連 Apple 自己都不想做好的系統元件，第三方開發者拿來用的話，這維護成本實在是過於空前。
10. 唯音輸入法的 INMU 格式遞交功能無法直接作用於 Sibelius / Dorico 這一類譜務工作站，而是先在其它文字處理軟體內準備好相關格式之後再利用給譜務工作站軟體。以 Sibelius / Dorico 2 為例的話，就是將這種格式的文字整段複製到剪貼簿內，然後在軟體的歌詞輸入模式當中連續 Command+V 貼上即可。Dorico 3 開始要麻煩一些，得事先在樂譜當中每個音符下插入一個字母，然後將這些音符全部選中、整段編輯歌詞，此時再將 INMU 格式的文本用 Command+V 整段貼上。詳見：https://forums.steinberg.net/t/150448
</details>

------

系統版本要求：至少 macOS 12 Monterey。請在安裝之前務必閱讀這篇《[安裝指引](https://gitee.com/vchewing/vChewing-macOS/wikis/%E8%AA%AA%E6%98%8E%E6%89%8B%E5%86%8A/%E5%AE%89%E8%A3%9D%E6%8C%87%E5%BC%95)》。因應不可控之技術現狀，今後請各位優先 [藉由 Gitee 下載](https://gitee.com/vchewing/vChewing-macOS/releases/)。如需要在更舊版的系統下運行的話，請前往[唯音輸入法主頁](https://vchewing.github.io/README.html)下載 Aqua 紀念版唯音輸入法，可支援自 macOS 10.9 開始至 macOS 12 Monterey 為止的系統版本。

<details>
<summary>其它注意事項（請點擊這一行文字以展開閱讀）。</summary>

> ⚠️ 注意：使用者們可以克隆「[libvChewing-data](https://gitee.com/vChewing/libvchewing-data)」且自行 `make install` 來手動安裝今後被官方更新過的最新核心辭庫。

> ⚠️ 警告：如果您硬碟內既存的唯音版本小於 2.3.0 ，則請在安裝此更新之前務必事先備份使用者語彙資料夾的內容、然後在升級之後在輸入法偏好設定內重新設定一遍使用者語彙目錄。自唯音 2.3.0 版開始，唯音引入沙箱機制，使用者語彙目錄只能存放於「/Users/您的使用者帳戶名稱/」目錄下（也就是您的 Home 目錄）。
</details>

#### 關於 Apple Developer 公證 & 安裝包 SHA256：

- 本次提供的安裝檔案均已做公證處理。
- 如果遇到 pkg 安裝包故障的話，請嘗試以「-alternative.zip」結尾的安裝程式。

vChewing-macOS-4.2.1-signed.pkg
78f58769e663f667519257fd5ba2d213345b714fe91a821cba4d3bfeb583ff41

vChewing-macOS-4.2.1-signed-alternative.zip
60142e2e24ec5bd99e56321bc786fb3de7ce703c1cfd88812f1f33cad3e4ff6d

vChewingAqua-4.2.1-signed.zip
54fc8fd2f561fcbebc6e910de61e5a43f96ae3b670b5a083edd47691f5e8b2a3
